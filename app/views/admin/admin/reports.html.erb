<div class="min-h-screen bg-page py-8 px-4">
  <div class="max-w-7xl mx-auto">
    <!-- Header -->
    <div class="mb-8 flex items-center justify-between">
      <div>
        <h1 class="text-4xl font-black bg-clip-text-primary text-transparent mb-2">
          <%= t('admin.reports.title') %>
        </h1>
        <p class="text-secondary-content"><%= t('admin.reports.subtitle') %></p>
      </div>
      <%= link_to admin_dashboard_path, class: "px-4 py-2 bg-card border border-default text-primary-content font-semibold rounded-lg hover:bg-opacity-80 transition-all" do %>
        ‚Üê <%= t('admin.common.back') %>
      <% end %>
    </div>

    <!-- Period Selector -->
    <div class="mb-6 bg-card rounded-xl shadow-lg p-4">
      <div class="flex items-center gap-4">
        <span class="text-sm font-semibold text-primary-content"><%= t('admin.reports.period') %>:</span>
        <%= link_to admin_reports_path(period: 'day'), class: "px-4 py-2 rounded-lg #{@period == 'day' ? 'bg-gradient-primary text-white' : 'bg-card border border-default text-primary-content'} font-semibold hover:opacity-90 transition-all" do %>
          <%= t('admin.reports.day') %>
        <% end %>
        <%= link_to admin_reports_path(period: 'week'), class: "px-4 py-2 rounded-lg #{@period == 'week' ? 'bg-gradient-primary text-white' : 'bg-card border border-default text-primary-content'} font-semibold hover:opacity-90 transition-all" do %>
          <%= t('admin.reports.week') %>
        <% end %>
        <%= link_to admin_reports_path(period: 'month'), class: "px-4 py-2 rounded-lg #{@period == 'month' ? 'bg-gradient-primary text-white' : 'bg-card border border-default text-primary-content'} font-semibold hover:opacity-90 transition-all" do %>
          <%= t('admin.reports.month') %>
        <% end %>
        <%= link_to admin_reports_path(period: 'year'), class: "px-4 py-2 rounded-lg #{@period == 'year' ? 'bg-gradient-primary text-white' : 'bg-card border border-default text-primary-content'} font-semibold hover:opacity-90 transition-all" do %>
          <%= t('admin.reports.year') %>
        <% end %>
      </div>
    </div>

    <!-- Stats Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <div class="bg-card rounded-xl shadow-lg p-6 border-l-4 border-primary">
        <p class="text-sm font-semibold text-secondary-content uppercase mb-2"><%= t('admin.reports.new_users') %></p>
        <p class="text-4xl font-black text-primary"><%= @new_users %></p>
      </div>

      <div class="bg-card rounded-xl shadow-lg p-6 border-l-4 border-secondary">
        <p class="text-sm font-semibold text-secondary-content uppercase mb-2"><%= t('admin.reports.new_recipes') %></p>
        <p class="text-4xl font-black text-secondary"><%= @new_recipes %></p>
      </div>

      <div class="bg-card rounded-xl shadow-lg p-6 border-l-4 border-accent">
        <p class="text-sm font-semibold text-secondary-content uppercase mb-2"><%= t('admin.reports.new_comments') %></p>
        <p class="text-4xl font-black text-accent"><%= @new_comments %></p>
      </div>

      <div class="bg-card rounded-xl shadow-lg p-6 border-l-4 border-primary">
        <p class="text-sm font-semibold text-secondary-content uppercase mb-2"><%= t('admin.reports.new_likes') %></p>
        <p class="text-4xl font-black text-primary"><%= @new_likes %></p>
      </div>

      <div class="bg-card rounded-xl shadow-lg p-6 border-l-4 border-secondary">
        <p class="text-sm font-semibold text-secondary-content uppercase mb-2"><%= t('admin.reports.new_follows') %></p>
        <p class="text-4xl font-black text-secondary"><%= @new_follows %></p>
      </div>
    </div>

    <!-- Export Buttons -->
    <div class="mt-8 bg-card rounded-xl shadow-lg p-6">
      <h2 class="text-xl font-black text-primary-content mb-4"><%= t('admin.reports.export') %></h2>
      <div class="flex items-center gap-4">
        <%= link_to admin_export_reports_path(period: @period, format: 'csv'), 
            data: { turbo: false },
            class: "px-6 py-3 bg-success-color text-white font-bold rounded-lg hover:opacity-90 transition-all flex items-center gap-2" do %>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
          </svg>
          <%= t('admin.reports.export_csv') %>
        <% end %>
        <%= link_to admin_export_reports_path(period: @period, format: 'pdf'), 
            data: { turbo: false },
            class: "px-6 py-3 bg-error-color text-white font-bold rounded-lg hover:opacity-90 transition-all flex items-center gap-2" do %>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>
          </svg>
          <%= t('admin.reports.export_pdf') %>
        <% end %>
      </div>
    </div>
  </div>
</div>


